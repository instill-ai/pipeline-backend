---
title: "Redis"
lang: "en-US"
draft: false
description: "Learn about how to set up a Redis component https://github.com/instill-ai/instill-core"
---

The Redis component is a data component that allows users to manage data in NoSQL Redis databases.
It can carry out the following tasks:
- [Retrieve Chat History](#retrieve-chat-history)
- [Write Chat Message](#write-chat-message)
- [Write Multi Modal Chat Message](#write-multi-modal-chat-message)



## Release Stage

`Alpha`



## Configuration

The component definition and tasks are defined in the [definition.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/data/redis/v0/config/definition.yaml) and [tasks.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/data/redis/v0/config/tasks.yaml) files respectively.




## Setup


In order to communicate with Redis Labs, the following connection details need to be
provided. You may specify them directly in a pipeline recipe as key-value pairs
within the component's `setup` block, or you can create a **Connection** from
the [**Integration Settings**](https://docs.instill-ai.com/docs/set-up-component)
page and reference the whole `setup` as `setup:
${connection.<my-connection-id>}`.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Host (required) | `host` | string | Redis host to connect to. |
| Port (required) | `port` | integer | Port of Redis. |
| Username | `username` | string | Username associated with Redis. |
| Password | `password` | string | Password associated with Redis. |
| SSL Connection | `ssl` | boolean | Indicates whether SSL encryption protocol will be used to connect to Redis. It is recommended to use SSL connection if possible. |

</div>





## Supported Tasks

### Retrieve Chat History

Retrieve chat history from Redis.

<h4 id="retrieve-chat-history-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_RETRIEVE_CHAT_HISTORY` |
| Session ID (required) | `session-id` | string | A unique identifier for the chat session. |
| Latest K | `latest-k` | integer | The number of latest conversation turns to retrieve. A conversation turn typically includes one participant speaking or sending a message, and the other participant(s) responding to it. |
| Include System Message if Exists | `include-system-message` | boolean | Include system message in the retrieved conversation turns if exists. |
</div>

<h4 id="retrieve-chat-history-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Chat Message | `messages` | array[object ([messages](#retrieve-chat-history-messages))] | Messages. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="retrieve-chat-history-content">Content <sup><small><small>Referenced in <a href="#retrieve-chat-history-messages">Messages</a></small></small></sup></h4>

The message content

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Image URL | `image-url` | object ([image-url](#retrieve-chat-history-image-url)) | The image URL |
| Text | `text` | string | The text content. |
| Type | `type` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`text`</li><li>`image-url`</li></ul></details></small></small> | The type of the content part. |
</div>

<h4 id="retrieve-chat-history-image-url">Image URL <sup><small><small>Referenced in <a href="#retrieve-chat-history-content">Content</a></small></small></sup></h4>

The image URL

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| URL | `url` | string | Either a URL of the image or the base64 encoded image data. |
</div>

<h4 id="retrieve-chat-history-messages">Messages <sup><small><small>Referenced in <a href="#retrieve-chat-history-output">Output</a></small></small></sup></h4>

Messages.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Role | `role` | string | The message role, i.e. 'system', 'user' or 'assistant' |
| Content | `content` | array[object ([content](#retrieve-chat-history-content))] | The message content |
| Metadata | `metadata` | json | The message metadata |
</div>

</details>


### Write Chat Message

Write chat message into Redis.

<h4 id="write-chat-message-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_WRITE_CHAT_MESSAGE` |
| Session ID (required) | `session-id` | string | A unique identifier for the chat session. |
| Role (required) | `role` | string | The message role, i.e. 'system', 'user' or 'assistant'. |
| Content (required) | `content` | string | The message content. |
| Metadata | `metadata` | object | The message metadata. |
</div>

<h4 id="write-chat-message-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | boolean | The status of the write operation. |
</div>


### Write Multi Modal Chat Message

Write multi-modal chat message into Redis.

<h4 id="write-multi-modal-chat-message-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_WRITE_MULTI_MODAL_CHAT_MESSAGE` |
| Session ID (required) | `session-id` | string | A unique identifier for the chat session. |
| Role (required) | `role` | string | The message role, i.e. 'system', 'user' or 'assistant'. |
| Content (required) | `content` | string | The multi-modal message content. |
| Metadata | `metadata` | object | The message metadata. |
</div>

<h4 id="write-multi-modal-chat-message-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `status` | boolean | The status of the write operation. |
</div>



