---
title: "Instill Artifact"
lang: "en-US"
draft: false
description: "Learn about how to set up a Instill Artifact component https://github.com/instill-ai/instill-core"
---

The Instill Artifact component is a data component that allows users to access files and perform RAG-based search and retrieval through catalogs in the Instill Core platform.
It can carry out the following tasks:
- [Upload File](#upload-file)
- [Upload Files](#upload-files)
- [Get Files Metadata](#get-files-metadata)
- [Get Chunks Metadata](#get-chunks-metadata)
- [Get File in Markdown](#get-file-in-markdown)
- [Match File Status](#match-file-status)
- [Retrieve](#retrieve)
- [Ask](#ask)

To use Artifact Component, you will need to set up the OpenAI API key for self-hosted deployment of Instill Core.
You can do this by setting the `OPENAI_API_KEY` environment variable.
Please refer to [configuring-the-embedding-feature](https://docs.instill-ai.com/docs/configuration#/configure-the-embedding-feature)
p.s. In Instill Cloud case, you do not need to set up the OpenAI API key.


## Release Stage

`Alpha`



## Configuration

The component definition and tasks are defined in the [definition.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/data/instillartifact/v0/config/definition.yaml) and [tasks.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/data/instillartifact/v0/config/tasks.yaml) files respectively.







## Supported Tasks

### Upload File

Upload and process the files into chunks into Catalog.

<h4 id="upload-file-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_UPLOAD_FILE` |
| Options (required) | `options` | object | Choose to upload the files to existing catalog or create a new catalog. |
</div>

<h4 id="upload-file-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| File | `file` | object ([file-item](#upload-file-file-item)) | Result of uploading file into catalog. |
| Status | `status` | boolean | The status of trigger file processing, if succeeded, return true. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="upload-file-chunk-reference">Chunk Reference</h4>

Position of a chunk within a file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| End | `end` | object ([file-position](#upload-file-file-position)) |  |
| Start | `start` | object ([file-position](#upload-file-file-position)) |  |
</div>

<h4 id="upload-file-file-position">File Position <sup><small><small>Referenced in <a href="#upload-file-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="upload-file-file">File <sup><small><small>Referenced in <a href="#upload-file-output">Output</a></small></small></sup></h4>

Result of uploading file into catalog.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| File UID | `file-uid` | string | Unique identifier of the file. |
| File Name | `file-name` | string | Name of the file. |
| Type | `file-type` | string | Type of the file. |
| Create Time | `create-time` | string | Creation time of the file in ISO 8601 format. |
| Update Time | `update-time` | string | Update time of the file in ISO 8601 format. |
| Size | `size` | number | Size of the file in bytes. |
| Catalog ID | `catalog-id` | string | ID of the catalog that you upload files. |
</div>

</details>


### Upload Files

Upload and process the files into chunks into Catalog.

<h4 id="upload-files-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_UPLOAD_FILES` |
| Options (required) | `options` | object | Choose to upload the files to existing catalog or create a new catalog. |
</div>

<h4 id="upload-files-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Files | `files` | array[object ([file-item](#upload-files-file-item))] | Files metadata in catalog. |
| Status | `status` | boolean | The status of trigger file processing, if ALL succeeded, return true. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="upload-files-chunk-reference">Chunk Reference</h4>

Position of a chunk within a file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| End | `end` | object ([file-position](#upload-files-file-position)) |  |
| Start | `start` | object ([file-position](#upload-files-file-position)) |  |
</div>

<h4 id="upload-files-file-position">File Position <sup><small><small>Referenced in <a href="#upload-files-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="upload-files-file">File <sup><small><small>Referenced in <a href="#upload-files-output">Output</a></small></small></sup></h4>

Files metadata in catalog.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| File UID | `file-uid` | string | Unique identifier of the file. |
| File Name | `file-name` | string | Name of the file. |
| Type | `file-type` | string | Type of the file. |
| Create Time | `create-time` | string | Creation time of the file in ISO 8601 format. |
| Update Time | `update-time` | string | Update time of the file in ISO 8601 format. |
| Size | `size` | number | Size of the file in bytes. |
| Catalog ID | `catalog-id` | string | ID of the catalog that you upload files. |
</div>

</details>


### Get Files Metadata

get the metadata of the files in the catalog.

<h4 id="get-files-metadata-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_GET_FILES_METADATA` |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to search files in the Catalog. |
</div>

<h4 id="get-files-metadata-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Files | `files` | array[object ([file-item](#get-files-metadata-file-item))] | Files metadata in catalog. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="get-files-metadata-chunk-reference">Chunk Reference</h4>

Position of a chunk within a file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| End | `end` | object ([file-position](#get-files-metadata-file-position)) |  |
| Start | `start` | object ([file-position](#get-files-metadata-file-position)) |  |
</div>

<h4 id="get-files-metadata-file-position">File Position <sup><small><small>Referenced in <a href="#get-files-metadata-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="get-files-metadata-file">File <sup><small><small>Referenced in <a href="#get-files-metadata-output">Output</a></small></small></sup></h4>

Files metadata in catalog.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| File UID | `file-uid` | string | Unique identifier of the file. |
| File Name | `file-name` | string | Name of the file. |
| Type | `file-type` | string | Type of the file. |
| Create Time | `create-time` | string | Creation time of the file in ISO 8601 format. |
| Update Time | `update-time` | string | Update time of the file in ISO 8601 format. |
| Size | `size` | number | Size of the file in bytes. |
| Catalog ID | `catalog-id` | string | ID of the catalog that you upload files. |
</div>

</details>


### Get Chunks Metadata

get the metadata of the chunks from a file in the catalog.

<h4 id="get-chunks-metadata-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_GET_CHUNKS_METADATA` |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to search files in the Catalog. |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| File UID (required) | `file-uid` | string | The unique identifier of the file. |
</div>

<h4 id="get-chunks-metadata-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Chunks | `chunks` | array[object ([chunks](#get-chunks-metadata-chunk))] | Chunks metadata of the file in catalog. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="get-chunks-metadata-chunk-reference">Chunk Reference</h4>

Position of a chunk within a file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| End | `end` | object ([file-position](#get-chunks-metadata-file-position)) |  |
| Start | `start` | object ([file-position](#get-chunks-metadata-file-position)) |  |
</div>

<h4 id="get-chunks-metadata-file-position">File Position <sup><small><small>Referenced in <a href="#get-chunks-metadata-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="get-chunks-metadata-chunk">Chunk <sup><small><small>Referenced in <a href="#get-chunks-metadata-output">Output</a></small></small></sup></h4>

Chunks metadata of the file in catalog.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Chunk UID | `chunk-uid` | string | The unique identifier of the chunk. |
| Retrievable | `retrievable` | boolean | The retrievable status of the chunk. |
| Start Position | `start-position` | integer | The start position of the chunk in the file. |
| End Position | `end-position` | integer | The end position of the chunk in the file. |
| Token Count | `token-count` | integer | The token count of the chunk. |
| Create Time | `create-time` | string | The creation time of the chunk in ISO 8601 format. |
| File UID | `original-file-uid` | string | The unique identifier of the file. |
</div>

</details>


### Get File in Markdown

get the file content in markdown format.

<h4 id="get-file-in-markdown-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_GET_FILE_IN_MARKDOWN` |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to search files in the Catalog. |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| File UID (required) | `file-uid` | string | The unique identifier of the file. |
</div>

<h4 id="get-file-in-markdown-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| File UID | `original-file-uid` | string | The unique identifier of the file. |
| Content | `content` | string | The content of the file in markdown format. |
| Create Time | `create-time` | string | The creation time of the source file in ISO 8601 format. |
| Update Time | `update-time` | string | The update time of the source file in ISO 8601 format. |
</div>


### Match File Status

Check if the specified file's processing status is done.

<h4 id="match-file-status-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_MATCH_FILE_STATUS` |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to check files' processing status in the Catalog. |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| File UID (required) | `file-uid` | string | The unique identifier of the file. |
</div>

<h4 id="match-file-status-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Status | `succeeded` | boolean | The status of the file processing, if succeeded, return true. |
</div>


### Retrieve

search the chunks in the catalog.

<h4 id="retrieve-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_RETRIEVE` |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to search files in the Catalog. |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| Text Prompt (required) | `text-prompt` | string | The prompt string to search the chunks. |
| Top K | `top-k` | integer | The number of top chunks to return. The range is from 1~20, and default is 5. |
| File UIDs | `file-uids` | array[string] | Optional list of file UIDs to filter the results by. The elements of the list must be UUID-formatted strings. |
| File Media Type | `file-media-type` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`document`</li><li>`image`</li><li>`audio`</li><li>`video`</li></ul></details></small></small> | The media type to filter, empty for all. |
| Content Type | `content-type` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`chunk`</li><li>`summary`</li><li>`augmented`</li></ul></details></small></small> | The content type to filter, empty for all. |
</div>

<h4 id="retrieve-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Chunks | `chunks` | array[object ([chunks](#retrieve-chunk))] | Chunks data from smart search. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="retrieve-chunk">Chunk <sup><small><small>Referenced in <a href="#retrieve-output">Output</a></small></small></sup></h4>

Chunks data from smart search.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Chunk UID | `chunk-uid` | string | The unique identifier of the chunk. |
| Similarity | `similarity-score` | number | The similarity score of the chunk. |
| Text Content | `text-content` | string | The text content of the chunk. |
| Source File UID | `source-file-uid` | string | The UID of the source file. |
| Source File Name | `source-file-name` | string | The name of the source file. |
| Chunk Reference | `reference` | object ([chunk-reference](#retrieve-chunk-reference)) | Reference to the position of the chunk within the original file. |
</div>

<h4 id="retrieve-file-position">File Position <sup><small><small>Referenced in <a href="#retrieve-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="retrieve-chunk-reference">Chunk Reference <sup><small><small>Referenced in <a href="#retrieve-chunk">Chunk</a></small></small></sup></h4>

Reference to the position of the chunk within the original file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| File Position | `end` | object ([file-position](#retrieve-file-position)) | Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type. |
| File Position | `start` | object ([file-position](#retrieve-file-position)) | Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type. |
</div>

</details>


### Ask

Reply the questions based on the files in the catalog.

<h4 id="ask-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_ASK` |
| Catalog ID (required) | `catalog-id` | string | Catalog ID that you input to search files in the Catalog. |
| Namespace (required) | `namespace` | string | Fill in your namespace, you can get namespace through the tab of switching namespace. |
| Question (required) | `question` | string | The question to reply. |
| Top K | `top-k` | integer | The number of top answers to return. The range is from 1~20, and default is 5. |
| File UIDs | `file-uids` | array[string] | Optional list of file UIDs to filter the results by. The elements of the list must be UUID-formatted strings. |
</div>

<h4 id="ask-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Answer | `answer` | string | Answers data from smart search. |
| Chunks (optional) | `chunks` | array[object ([chunks](#ask-chunk))] | Chunks data to answer question. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="ask-chunk">Chunk <sup><small><small>Referenced in <a href="#ask-output">Output</a></small></small></sup></h4>

Chunks data to answer question.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Chunk UID | `chunk-uid` | string | The unique identifier of the chunk. |
| Similarity | `similarity-score` | number | The similarity score of the chunk. |
| Text Content | `text-content` | string | The text content of the chunk. |
| Source File UID | `source-file-uid` | string | The UID of the source file. |
| Source File Name | `source-file-name` | string | The name of the source file. |
| Chunk Reference | `reference` | object ([chunk-reference](#ask-chunk-reference)) | Reference to the position of the chunk within the original file. |
</div>

<h4 id="ask-file-position">File Position <sup><small><small>Referenced in <a href="#ask-chunk-reference">Chunk Reference</a></small></small></sup></h4>

Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Unit | `unit` | string<br/><small><small><details><summary>Enum values</summary><ul><li>`UNIT_CHARACTER`</li><li>`UNIT_PAGE`</li><li>`UNIT_TIME_MS`</li><li>`UNIT_PIXEL`</li></ul></details></small></small> | Unit of measurement for a position within a file. |
| Coordinates | `coordinates` | array[integer] | Position value. |
</div>

<h4 id="ask-chunk-reference">Chunk Reference <sup><small><small>Referenced in <a href="#ask-chunk">Chunk</a></small></small></sup></h4>

Reference to the position of the chunk within the original file.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| File Position | `end` | object ([file-position](#ask-file-position)) | Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type. |
| File Position | `start` | object ([file-position](#ask-file-position)) | Position within a file as coordinates ina specific unit. The number of dimensions of the coordinates depends on the unit type. |
</div>

</details>



## Example Recipes

```yaml
version: v1beta
component:
  artifact-0:
    type: instill-artifact
    task: TASK_ASK
    input:
      catalog-id: ${variable.catalog_name}
      namespace: ${variable.namespace}
      question: ${variable.question}
      top-k: 5
variable:
  catalog_name:
    title: catalog-name
    description: The name of your catalog i.e. "instill-ai"
    type: string
  namespace:
    title: namespace
    description: The namespace of your catalog i.e. "instill-ai"
    type: string
  question:
    title: question
    description: The question to ask your catalog i.e. "What is Instill AI doing?", "What is Artifact?"
    type: string
output:
  answer:
    title: answer
    value: ${artifact-0.output.answer}
```


Sync files from Google Drive to Instill Catalog.

```yaml
version: v1beta

variable:
  namespace:
    title: Namespace
    type: string
  catalog:
    title: Catalog
    type: string
  folder-link:
    title: Folder Link
    type: string

component:
  read-folder:
    type: google-drive
    input:
      shared-link: ${variable.folder-link}
      read-content: true
    setup:
      refresh-token: ${secret.refresh-token-gd}
    task: TASK_READ_FOLDER

  sync:
    type: instill-artifact
    input:
      namespace: ${variable.namespace}
      catalog-id: ${variable.catalog}
      third-party-files: ${read-folder.output.files}
    task: TASK_SYNC_FILES

output:
  sync-result:
    title: Sync Result
    value: ${sync.output}
```