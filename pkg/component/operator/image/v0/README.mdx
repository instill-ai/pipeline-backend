---
title: "Image"
lang: "en-US"
draft: false
description: "Learn about how to set up a Image component https://github.com/instill-ai/instill-core"
---

The Image component is an operator component that allows users to manipulate image files.
It can carry out the following tasks:
- [Concat](#concat)
- [Crop](#crop)
- [Resize](#resize)
- [Draw Classification](#draw-classification)
- [Draw Detection](#draw-detection)
- [Draw Keypoint](#draw-keypoint)
- [Draw OCR](#draw-ocr)
- [Draw Instance Segmentation](#draw-instance-segmentation)
- [Draw Semantic Segmentation](#draw-semantic-segmentation)



## Release Stage

`Alpha`



## Configuration

The component definition and tasks are defined in the [definition.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/operator/image/v0/config/definition.yaml) and [tasks.yaml](https://github.com/instill-ai/pipeline-backend/blob/main/pkg/component/operator/image/v0/config/tasks.yaml) files respectively.







## Supported Tasks

### Concat

Concatenate images horizontally or vertically. All images must have the same width and height. If `grid-width` and `grid-height` are not provided, the images will be concatenated to a square grid.

<h4 id="concat-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_CONCAT` |
| Images (required) | `images` | array | Input images. |
| Grid Width | `grid-width` | integer | Grid width. If `grid-width` is provided, `grid-height` will be ignored. |
| Grid Height | `grid-height` | integer | Grid height. If `grid-height` is provided, `grid-width` will be ignored. |
| Padding | `padding` | integer | Padding between images. If `padding` is provided, it will be applied to all four sides of the image. |
</div>

<h4 id="concat-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>


### Crop

Crop image to the specified size.

<h4 id="crop-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_CROP` |
| Image (required) | `image` | string | Input image. |
| Corner Radius | `corner-radius` | integer | Radius from the corner of the image to crop the image. If `corner-radius` is provided, `circle-radius` will be ignored. If the `corner-radius` is larger than half of min(width, height), the min(width, height) will be applied to `corner-radius` . |
| Circle Radius | `circle-radius` | integer | Radius from the center of the circle to crop the image. If `circle-radius` is provided, `corner-radius` will be ignored. If the `circle-radius` is larger than half of min(width, height), the min(width, height) will be applied to `circle-radius`. |
| Top Offset | `top-offset` | integer | Top offset of the crop. |
| Right Offset | `right-offset` | integer | Right offset of the crop. |
| Bottom Offset | `bottom-offset` | integer | Bottom offset of the crop. |
| Left Offset | `left-offset` | integer | Left offset of the crop. |
</div>

<h4 id="crop-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>


### Resize

Resize image to the specified size.

<h4 id="resize-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_RESIZE` |
| Image (required) | `image` | string | Input image. |
| Ratio | `ratio` | number | Resize ratio (e.g., 0.5 for half size, 2 for double size) to resize the image. If ratio is provided, width and height will be ignored. |
| Width | `width` | integer | Width of the output image. |
| Height | `height` | integer | Height of the output image. |
</div>

<h4 id="resize-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>


### Draw Classification

Draw classification result on the image.

<h4 id="draw-classification-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_CLASSIFICATION` |
| Category (required) | `category` | string | The predicted category of the input. |
| Image (required) | `image` | string | Input image. |
| Show Score | `show-score` | boolean | Show model confidence score on each instance. |
| Score (required) | `score` | number | The confidence score of the predicted category of the input. |
</div>

<h4 id="draw-classification-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>


### Draw Detection

Draw detection result on the image.

<h4 id="draw-detection-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_DETECTION` |
| Image (required) | `image` | string | Input image. |
| Objects (required) | `objects` | array[object ([objects](#draw-detection-object))] | A list of detected objects. |
| Show Score | `show-score` | boolean | Show model confidence score on each instance. |
</div>

<h4 id="draw-detection-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="draw-detection-bounding-box">Bounding box <sup><small><small>Referenced in <a href="#draw-detection-object">Object</a></small></small></sup></h4>

The detected bounding box in (left, top, width, height) format.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Left | `left` | number | Bounding box left x-axis value |
| Top | `top` | number | Bounding box top y-axis value |
| Width | `width` | number | Bounding box width value |
| Height | `height` | number | Bounding box height value |
</div>

<h4 id="draw-detection-object">Object <sup><small><small>Referenced in <a href="#draw-detection-input">Input</a></small></small></sup></h4>

A list of detected objects.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Bounding box | `bounding-box` | object ([bounding-box](#draw-detection-bounding-box)) | The detected bounding box in (left, top, width, height) format. |
| Category | `category` | string | The predicted category of the bounding box. |
| Score | `score` | number | The confidence score of the predicted category of the bounding box. |
</div>

</details>


### Draw Keypoint

Draw keypoint result on the image.

<h4 id="draw-keypoint-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_KEYPOINT` |
| Image (required) | `image` | string | Input image. |
| Objects (required) | `objects` | array[object ([objects](#draw-keypoint-object))] | A list of keypoint objects, a keypoint object includes all the pre-defined keypoints of a detected object. |
| Show Score | `show-score` | boolean | Show model confidence score on each instance. |
</div>

<h4 id="draw-keypoint-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="draw-keypoint-bounding-box">Bounding Box <sup><small><small>Referenced in <a href="#draw-keypoint-object">Object</a></small></small></sup></h4>

The detected bounding box in (left, top, width, height) format.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Left | `left` | number | Bounding box left x-axis value |
| Top | `top` | number | Bounding box top y-axis value |
| Width | `width` | number | Bounding box width value |
| Height | `height` | number | Bounding box height value |
</div>

<h4 id="draw-keypoint-keypoints">Keypoints <sup><small><small>Referenced in <a href="#draw-keypoint-object">Object</a></small></small></sup></h4>

A keypoint group is composed of a list of pre-defined keypoints of a detected object.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| X Coordinate | `x` | number | x coordinate of the keypoint. |
| Y Coordinate | `y` | number | y coordinate of the keypoint. |
| Visibility Score | `v` | number | visibility score of the keypoint. |
</div>

<h4 id="draw-keypoint-object">Object <sup><small><small>Referenced in <a href="#draw-keypoint-input">Input</a></small></small></sup></h4>

A list of keypoint objects, a keypoint object includes all the pre-defined keypoints of a detected object.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Keypoints | `keypoints` | array[object ([keypoints](#draw-keypoint-keypoints))] | A keypoint group is composed of a list of pre-defined keypoints of a detected object. |
| Score | `score` | number | The confidence score of the predicted object. |
| Bounding Box | `bounding-box` | object ([bounding-box](#draw-keypoint-bounding-box)) | The detected bounding box in (left, top, width, height) format. |
</div>

</details>


### Draw OCR

Draw OCR result on the image.

<h4 id="draw-ocr-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_OCR` |
| Image (required) | `image` | string | Input image. |
| Objects (required) | `objects` | array[object ([objects](#draw-ocr-object))] | A list of detected bounding boxes. |
| Show Score | `show-score` | boolean | Show model confidence score on each instance. |
</div>

<h4 id="draw-ocr-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="draw-ocr-bounding-box">Bounding Box <sup><small><small>Referenced in <a href="#draw-ocr-object">Object</a></small></small></sup></h4>

The detected bounding box in (left, top, width, height) format.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Left | `left` | number | Bounding box left x-axis value |
| Top | `top` | number | Bounding box top y-axis value |
| Width | `width` | number | Bounding box width value |
| Height | `height` | number | Bounding box height value |
</div>

<h4 id="draw-ocr-object">Object <sup><small><small>Referenced in <a href="#draw-ocr-input">Input</a></small></small></sup></h4>

A list of detected bounding boxes.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Bounding Box | `bounding-box` | object ([bounding-box](#draw-ocr-bounding-box)) | The detected bounding box in (left, top, width, height) format. |
| Text | `text` | string | Text string recognised per bounding box. |
| Score | `score` | number | The confidence score of the predicted object. |
</div>

</details>


### Draw Instance Segmentation

Draw instance segmentation result on the image.

<h4 id="draw-instance-segmentation-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_INSTANCE_SEGMENTATION` |
| Image (required) | `image` | string | Input image. |
| Objects (required) | `objects` | array[object ([objects](#draw-instance-segmentation-object))] | A list of detected instance bounding boxes. |
| Show Score | `show-score` | boolean | Show model confidence score on each instance. |
</div>

<h4 id="draw-instance-segmentation-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="draw-instance-segmentation-bounding-box">Bounding Box <sup><small><small>Referenced in <a href="#draw-instance-segmentation-object">Object</a></small></small></sup></h4>

The detected bounding box in (left, top, width, height) format.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| Left | `left` | number | Bounding box left x-axis value |
| Top | `top` | number | Bounding box top y-axis value |
| Width | `width` | number | Bounding box width value |
| Height | `height` | number | Bounding box height value |
</div>

<h4 id="draw-instance-segmentation-object">Object <sup><small><small>Referenced in <a href="#draw-instance-segmentation-input">Input</a></small></small></sup></h4>

A list of detected instance bounding boxes.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| RLE | `rle` | string | Run Length Encoding (RLE) of instance mask within the bounding box. |
| Bounding Box | `bounding-box` | object ([bounding-box](#draw-instance-segmentation-bounding-box)) | The detected bounding box in (left, top, width, height) format. |
| Category | `category` | string | The predicted category of the bounding box. |
| Score | `score` | number | The confidence score of the predicted instance object. |
</div>

</details>


### Draw Semantic Segmentation

Draw semantic segmentation result on the image.

<h4 id="draw-semantic-segmentation-input">Input</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Task ID (required) | `task` | string | `TASK_DRAW_SEMANTIC_SEGMENTATION` |
| Image (required) | `image` | string | Input image. |
| Stuffs (required) | `stuffs` | array[object ([stuffs](#draw-semantic-segmentation-object))] | A list of RLE binary masks. |
</div>

<h4 id="draw-semantic-segmentation-output">Output</h4>
<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Description |
| :--- | :--- | :--- | :--- |
| Image | `image` | image/png | Output image. |
</div>

<details>
<summary> Referenced Objects</summary>
<h4 id="draw-semantic-segmentation-object">Object <sup><small><small>Referenced in <a href="#draw-semantic-segmentation-input">Input</a></small></small></sup></h4>

A list of RLE binary masks.

<div class="markdown-col-no-wrap" data-col-1 data-col-2>

| Field | Field ID | Type | Note |
| :--- | :--- | :--- | :--- |
| RLE | `rle` | string | Run Length Encoding (RLE) of each stuff mask within the image. |
| Category | `category` | string | Category text string corresponding to each stuff mask. |
</div>

</details>



